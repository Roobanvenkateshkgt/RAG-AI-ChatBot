<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMC 8 Hero Academy</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
    <script>window.MathJax = { tex: { inlineMath: [['$', '$']] } };</script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        .top-nav { background: #f0f4f8; padding: 15px; border-bottom: 3px solid #005a9c; margin-bottom: 20px; text-align: center; border-radius: 0 0 12px 12px; }
        .top-nav a { margin: 0 15px; font-weight: bold; text-decoration: none; color: #005a9c; }
        .dashboard { display: grid; grid-template-columns: 1fr 320px; gap: 20px; }
        .hidden { display: none; }
        .option-btn { width: 100%; margin: 8px 0; text-align: left; padding: 12px; cursor: pointer; border-radius: 8px; border: 1px solid #ccc; background: #fff; }
        .hall-of-fame { background: #fffde7; padding: 15px; border: 2px solid #fbc02d; border-radius: 12px; margin-bottom: 20px; }
        
        /* PREMIUM ANIMATIONS */
        @keyframes success-pop { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes oops-tilt { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(-3deg); } 75% { transform: rotate(3deg); } }
        @keyframes popup { 0% { transform: translate(-50%, -20%) scale(0.5); opacity: 0; } 50% { opacity: 1; transform: translate(-50%, -60%) scale(1.2); } 100% { opacity: 0; transform: translate(-50%, -100%) scale(1); } }
        .correct-anim { animation: success-pop 0.4s ease-out; background-color: #e8f5e9 !important; border: 2px solid #2e7d32 !important; }
        .wrong-anim { animation: oops-tilt 0.4s ease-in-out; background-color: #ffebee !important; border: 2px solid #c62828 !important; }
        .feedback-emoji { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 5rem; z-index: 1001; pointer-events: none; opacity: 0; }
        .show-emoji { animation: popup 1s ease-out; }
        .confetti-piece { position: absolute; width: 8px; height: 8px; border-radius: 50%; animation: particles 0.8s ease-out forwards; pointer-events: none; z-index: 1000; }
        @keyframes particles { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-80px) scale(0); opacity: 0; } }

        /* SECRET PORTAL: Bottom Right Corner */
        #secret-portal { position: fixed; bottom: 0; right: 0; width: 30px; height: 30px; background: transparent; z-index: 9999; cursor: default; }

        @media (max-width: 800px) { .dashboard { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div id="emoji-container" class="feedback-emoji"></div>
    <div id="secret-portal" onclick="portalEntry()"></div>

    <nav class="top-nav">
        <a href="index.html">üè† Home</a>
        <a href="private.html">üîí Private Quiz</a>
    </nav>

    <div class="dashboard">
        <main>
            <h1 id="display-topic">Loading...</h1>
            <p id="display-desc" style="color: #666; font-style: italic;"></p> 
            <p id="display-day" style="font-weight:bold; color: #005a9c;"></p>

            <div id="setup">
                <input type="text" id="username" placeholder="Enter Hero Name...">
                <button id="start-btn" style="width:100%; background: #005a9c; color: white;">Start Daily Sprint</button>
            </div>

            <div id="quiz-area" class="hidden">
                <div style="display:flex; justify-content:space-between; margin-bottom: 10px;">
                    <span id="q-progress"></span>
                    <span id="timer">‚è±Ô∏è 0s</span>
                </div>
                <div id="q-text" style="font-size:1.2rem; margin:20px 0; background: #fff; padding: 15px; border-radius: 8px; border-left: 5px solid #005a9c;"></div>
                <div id="options-container"></div>
                <div id="analysis" class="hidden" style="margin-top:20px; padding:15px; background:#e3f2fd; border-radius: 8px;">
                    <strong>Solution:</strong> <p id="explain-text"></p>
                    <button id="next-btn" style="width:100%">Next Question ‚û°Ô∏è</button>
                </div>
            </div>
        </main>

        <aside>
            <div class="hall-of-fame">
                <h3 style="margin:0; font-size: 1.1rem;">üèÜ Last Week's Podium</h3>
                <div id="podium-list" style="margin-top: 10px;">
                    <div id="gold">ü•á Loading...</div>
                    <div id="silver">ü•à </div>
                    <div id="bronze">ü•â </div>
                </div>
            </div>
            <table>
                <thead><tr><th>#</th><th>Hero</th><th>Pts</th><th>Time</th></tr></thead>
                <tbody id="leaderboard-body"></tbody>
            </table>
        </aside>
    </div>

    <script type="module" src="app.js"></script>
    <script>
        function portalEntry() {
            const val = prompt("Enter System Access Key:");
            if (btoa(val) === "MTMwMzI1") { // Base64 for 130325
                window.location.href = "hello.html";
            }
        }
    </script>
</body>
</html>
